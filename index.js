'use strict;'
const A0={viewport:null,viewport_width:0,pages_container:null,nr_pages:0,lst_pages:null,current_page_idx:0,previous_page_idx:0,client_onResize:null,client_onClick:null,mouse_or_touch:null,PAGE_FREE:0,PAGE_LANDSCAPE:1,PAGE_PORTRAIT:-1,page_before_rotate:-1,page_mode:0,page_rotate_id:0,error_node:null,error_page:null,f23:function(t,i){this.viewport=document.getElementById("AppViewport"),this.pages_container=document.getElementById("AppPagesContainer"),this.lst_pages=Array.from(document.querySelectorAll(".AppPage")),this.nr_pages=this.lst_pages.length,window.hasOwnProperty("cordova")?this.mouse_or_touch="mousedown":this.mouse_or_touch=void 0!==window.ontouchstart?"touchstart":"mousedown",A0.f18(null),this.client_onResize=t||null,this.client_onClick=i||null,window.visualViewport.addEventListener("resize",A0.f18.bind(this))},f18:function(t){this.viewport_width=this.viewport.offsetWidth,this.viewport.style.height=window.visualViewport.height+"px",this.pages_container.style.width=this.nr_pages*this.viewport_width+"px",this.pages_container.style.left=-this.current_page_idx*this.viewport.offsetWidth+"px",this.lst_pages.forEach(t=>t.style.width=this.viewport_width+"px"),this.f8(),this.f11(),null!==this.client_onResize&&this.client_onResize(this.viewport_width,this.viewport.offsetHeight)},f19:function(){return this.viewport_width},f15:function(){return this.viewport.offsetHeight},f20:function(t=""){if("string"==typeof t){var i=0,s=t;for(t=this.current_page_idx;i<this.nr_pages;){if(this.lst_pages[i].id===s){t=i;break}i++}}return this.pages_container.style.left=-t*this.viewport.offsetWidth+"px",this.previous_page_idx=this.current_page_idx,this.current_page_idx=t},f9:function(){return this.current_page_idx},f4:function(){return this.lst_pages[this.current_page_idx].id},f8:function(){this.f20(this.current_page_idx)},f5:function(){this.f20(this.current_page_idx)},f13:function(t,i){this.page_mode=t,this.page_rotate_id=i,this.f11()},f11:function(){return this.show_page=!1,this.page_mode!==this.PAGE_FREE&&(Math.sign(this.viewport.offsetWidth-this.viewport.offsetHeight)!==this.page_mode?(-1===this.page_before_rotate&&(this.page_before_rotate=this.current_page_idx),this.f20(this.page_rotate_id),this.show_page=!0):-1!==this.page_before_rotate&&(this.f20(this.page_before_rotate),this.page_before_rotate=-1,this.show_page=!0)),this.show_page||this.f8(),this.show_page},f0:function(t,i){t.addEventListener(this.mouse_or_touch,this.f21.bind(this,i)),t.addEventListener("contextmenu",this.f10.bind(this))},f6:function(t,i,s){"mousedown"===(i="MOUSE||TOUCH"===i?this.mouse_or_touch:i)&&t.addEventListener("contextmenu",this.f10.bind(this)),t.addEventListener(i,s)},f12:function(t){return t.stopPropagation(),t.preventDefault(),t.target},f21:function(t,i){this.f12(i),null!==this.client_onClick&&this.client_onClick(t,i.target)},f10:function(t){this.f12(t),t.target.click()},f1:function(t){if("serviceWorker"in navigator&&"https:"===window.location.protocol&&void 0===window.cordova){if(this.A1&&!this.A1.f22())return;navigator.serviceWorker.register(t).then(t=>{}).catch(t=>{})}},f7:function(t="AppError"){"string"==typeof t&&(t=document.getElementById(t)),this.error_node=t,this.error_page=g1(t,"section"),window.addEventListener("unhandledrejection",t=>{t.preventDefault(),this.f16("Unhandled rejection",t.reason)}),window.addEventListener("error",t=>{t.preventDefault();t=[t.error.message,t.error.fileName,t.error.lineNumber,this.f2(t.error)].join("<br>");this.f16("Error",t)})},f2:function(t){return t.stack.split("at ").join("<br>&bull; ")},f16:function(t,i){this.error_node.innerHTML+="<h3>"+t+"</h3>"+i,null!==this.error_page&&this.f20(this.error_page.id)}};class C0{#p81=null;#p78=1/0;#p67=1/0;#p60=1/0;#p55=1/0;#p49=null;constructor(t,i=!1){this.#p81=t,!0===i?this.#p49=this.#P17():i instanceof Node&&(this.#p49=i,this.#p49.id=this.#p81,this.#p49.classList.add("FlexBoxEntity"))}#P17(){var t=document.createElement("div");return t.id=this.#p81,t.classList.add("FlexBoxEntity"),t}M103(){return this.#p81}M41(){return[this.#p78,this.#p67]}M56(){return this.#p49}f19(){return this.#p60}f15(){return this.#p55}M99(){return this.#p78}M86(){return this.#p67}f18(t,i,s,h){this.M42(s,h),this.M87(t,i)}M42(t,i){this.#p78=t,this.#p67=i,null!==this.#p49&&(this.#p49.style.top=t+"px",this.#p49.style.left=i+"px")}M87(t,i){this.#p60=t,this.#p55=i,null!==this.#p49&&(this.#p49.style.width=t+"px",this.#p49.style.height=i+"px")}}class E3 extends C0{#p18=null;#p50=null;#p61=null;#p14=[];#p2=null;constructor(t,i,s,h,e=!1){super(t,e),this.#p18=i,this.#p50=s,this.#p61=h,e&&this.M56().classList.add("FlexBox")}M68(t,i=!0){this.#p14[i?"push":"unshift"](t),null!==this.#p2&&this.#p14.sort(this.#p2),this.M2()}M31(t,i=!0){g2(this.#p14,t),i&&this.M2()}f18(t,i,s,h){super.f18(t,i,s,h),this.M2()}M10(i,s){0<this.#p14.length&&this.#p14.forEach(t=>t.M87(i,s))}M2(){var i,s,h,e;0!==this.#p14.length&&(s=i=0,this.#p14.forEach(t=>{i+=t.f19(),s+=t.f15()}),i!==1/0)&&s!==1/0&&("row"===this.#p18?(h=this.#P6(this.#p50)(!0,"width",i),e=this.#P6(this.#p61)(!1,"height",s)):(e=this.#P6(this.#p50)(!0,"height",s),h=this.#P6(this.#p61)(!1,"width",i)),this.#p14.forEach(t=>{t.M42(e.shift(),h.shift())}))}M24(i){this.#p14.forEach(t=>i(t))}#P6(t){return"center"===t?this.#P1.bind(this):"start"===t?this.#P4.bind(this):"end"===t?this.#P5.bind(this):"evenly"===t?this.#P2.bind(this):"between"===t?this.#P0.bind(this):"around"===t?this.#P3.bind(this):void 0}#P7(t,i){for(var s,h="width"===i?this.M86():this.M99(),e=[],p=0;p<this.#p14.length;++p)t&&0<p&&(s=this.#p14[p-1],h+="width"===i?s.f19():s.f15()),e.push(h);return e}#P4(t,i,s){return this.#P7(t,i)}#P1(t,i,s){for(var h,e=this.#P7(t,i),p=this.#p14.length,n="width"===i?this.f19():this.f15(),r=Math.round((n-s)/2),o=0;o<p;++o)t?e[o]+=r:(h=this.#p14[o],e[o]+=Math.round((n-("width"===i?h.f19():h.f15()))/2));return e}#P5(t,i,s){for(var h,e=this.#P7(t,i),p=this.#p14.length,n="width"===i?this.f19():this.f15(),r=Math.round(n-s),o=0;o<p;++o)t?e[o]+=r:(h=this.#p14[o],e[o]+=n-("width"===i?h.f19():h.f15()));return e}#P2(t,i,s){for(var h=this.#P7(t,i),e=this.#p14.length,t="width"===i?this.f19():this.f15(),p=Math.round((t-s)/(e+1)),n=0;n<e;++n)h[n]+=(n+1)*p;return h}#P0(t,i,s){for(var h=this.#P7(t,i),e=this.#p14.length,t="width"===i?this.f19():this.f15(),p=Math.round((t-s)/(e-1)),n=1;n<e;++n)h[n]+=n*p;return h}#P3(t,i,s){for(var h=this.#P7(t,i),e=this.#p14.length,t="width"===i?this.f19():this.f15(),i=Math.round(s/this.#p14.length),p=Math.round((t-i*(this.#p14.length+1))/this.#p14.length),n=Math.round(i/2+p/2),r=0;r<e;++r)h[r]+=n;for(var o=Math.round((t-s-2*n)/(e-1)),r=1;r<e;++r)h[r]+=r*o;return h}M11(t){this.#p2=t}M57(t){this.#p50=t}}function g13(t){return document.getElementById(t)}function g11(t,i){return(i=i||document).getElementsByTagName(t)[0]}function g12(t,i){return(i=i||document).getElementsByTagName(t)}function g9(t,i=document){return i.querySelector(t)}function g10(t,i=document){return i.querySelectorAll(t)}function g1(t,i){for(i=i.toUpperCase();null!==t&&t.tagName!==i;)t=t.parentNode;return t}function g14(s,h=null){return new Promise((t,i)=>setTimeout(t,s,h))}function g5(i,t){t.forEach(t=>null!==t&&i.appendChild(t))}function QuerySeachString(t,i=null,s=!1){t=new URL(window.location).searchParams.get(t);return null===t?t=i:s&&(t=parseInt(t,10)),t}function g8(t,i){t=getComputedStyle(document.documentElement).getPropertyValue("--"+t.split("--").pop()).trim();return i?parseInt(t,10):t}function g6(t){for(var i=t.length-1;0<i;i--){var s=Math.floor(Math.random()*(i+1)),h=t[i];t[i]=t[s],t[s]=h}}function g7(t){return t.concat()}function g2(t,i){return t.includes(i)?t.splice(t.indexOf(i),1).pop():null}function g3(t,i){return i>=t.length?null:t.splice(i,1).pop()}function g0(t){return g3(t,Math.f17(0,t.length-1))}function g4(t){return t[Math.f17(0,t.length-1)]}A0.A1={},A0.A1.f22=function(){return 0<navigator.maxTouchPoints},A0.A1.f24=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},A0.A1.f3=function(){document.fullscreenElement||!this.f22()||this.f24()||document.documentElement.requestFullscreen instanceof Function&&document.documentElement.requestFullscreen({navigationUI:"hide"})},Math.f17=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},Math.f14=function(t,i){return t+Math.random()*(i-t)};class E5 extends C0{#p81=null;#p68=-1;#p62=-1;#p63=-1;#p51=!0;#p42=!1;#p1=!0;#p43=null;#p56=null;#p57=null;#p58=null;#p52=null;#p25=null;#p59=null;#p69=null;constructor(t,i,s){super("Card_"+t,!0),this.#p81=t,this.#p68=i.id,this.#p62=s.nr,this.#p63=i.color,this.M77(s.symbol,s.nr,i.symbol),this.M12(this.#p1)}M17(){return this.#p56}M12(t){(this.#p1=t)&&(this.M89()||this.M104())?this.#p25.classList.remove("Hidden"):this.#p25.classList.add("Hidden")}M77(t,i,s){this.#p56=document.createElement("div"),this.#p56.classList.add("CardBody"),this.#p56.classList.add("Clickable"),this.#p57=document.createElement("div"),this.#p57.classList.add("CardFace"),this.#p56.appendChild(this.#p57),this.#p58=document.createElement("div"),this.#p58.classList.add("CardBack"),this.#p56.appendChild(this.#p58),this.#p52=document.createElement("p"),this.#p52.classList.add("CardValue"),this.#p52.classList.add("CardValue"+this.#p63);var h=document.createElement("span"),t=(h.innerHTML=t,this.#p52.appendChild(h),this.#p57.appendChild(this.#p52),this.#p25=document.createElement("span"),(this.M89()||this.M104())&&(this.#p25.innerHTML=i),this.#p52.appendChild(this.#p25),this.#p59=document.createElement("p"),this.#p59.innerHTML=s,this.#p59.classList.add("CardSuit"),this.#p59.classList.add("CardSuit"+this.#p63),this.#p57.appendChild(this.#p59),this.#p51||this.#p56.classList.add("FaceDown"),this.M89()?this.#p57.classList.add("CardRoyal"):this.M90()?this.#p57.classList.add("CardJoker"):this.M104()&&this.#p57.classList.add("CardAce"),this.M56());t.classList.add("Card"),t.classList.add("CardSmooth"),t.classList.add("CardHidden"),t.appendChild(this.#p56)}M78(){return this.#p62}M88(){return this.#p68}M79(){return this.#p63}M87(t,i){super.M87(t,i),this.#p52.style.fontSize=Math.round(.3*t)+"px",this.#p52.children.length&&(this.#p52.children[1].style.fontSize=Math.round(.2*t)+"px"),this.#p59.style.fontSize=Math.round(.4*t)+"px"}M69(t){this.#p51=t,this.#p56.classList[t?"remove":"add"]("FaceDown")}M43(t){this.#p42=t,this.#p56.classList[t?"add":"remove"]("CardSelected")}M18(){return this.M43(!this.#p42),this.#p42}M44(t){this.#p43=t}M106(t){return this.#p43===t}M45(){return this.#p43}M89(){return[k20,k13,k21].includes(this.#p62)}M58(){return this.M89()}M90(){return this.#p62===k12}M104(){return this.#p62===k25}M80(){return this.#p51}M59(){return this.#p42}M70(t){this.M56().classList[t?"add":"remove"]("CardHidden")}M71(t){this.M56().classList[t?"add":"remove"]("CardSmooth")}M72(t){this.M56().style.zIndex=t}M32(){return this.M89()||this.M104()}M81(){return"#"+this.#p81+"="+this.#p62+"/"+k19[this.#p68]}M91(t){this.#p69=t}M92(){return this.#p69}}class C2{#p44=null;#p29=null;#p70=null;#p71=null;#p30=null;#p31=null;#p79=null;#p32=null;#p72=null;#p64=null;#p73=!1;#p33=!1;#p26=!1;#p19=!1;#p34=!0;#p45=0;#p35=1;#p5=null;#p20=null;constructor(){this.clicked_card=null,A0.f23(this.#P23.bind(this),this.#P24.bind(this)),A0.f7(),A0.f13(A0.PAGE_LANDSCAPE,"Rotate"),this.#p44=g13("GameViewport"),this.#p29=new C1(k23),this.#p70=new C4(g13("MenuPannel"),g13("MenuIcon")),this.#p71=new C3(k24),this.#p30=new E2,this.#p79=new E7(k28,this.onBotPlayCard.bind(this)),this.#p64=new E4(g13("Stats")),this.#p30.AddInfo(this.#p64),this.#p31=this.#p30.M55(),this.#p5=new E0("DiscardPlayer"),this.#p20=new E0("DiscardBot"),this.#p32=new E1("TrickRow",k3,!1),this.#p72=new E6(2,k8),g13("Play").appendChild(this.#p29.M56()),this.#p44.appendChild(this.#p32.M56()),g5(this.#p44,this.#p30.M49()),g5(this.#p44,this.#p79.M49()),g5(this.#p44,this.#p72.M49()),g5(this.#p44,this.#p5.M49()),g5(this.#p44,this.#p20.M49()),A0.f6(window,"contextmenu",A0.f12.bind(A0)),A0.f0(g13("HomeCard"),null),A0.f0(g13("MenuIcon"),null),this.#p70.M49().forEach(t=>A0.f0(t,null)),A0.f0(this.#p32.M56(),this.#p32),this.#p32.M56().classList.add("Clickable"),this.#p70.M108(),this.#P23(0,0),this.#P21(),this.#P25(),this.M48(),window.setTimeout(()=>{A0.f11(),g13("AppViewport").classList.remove("AppInit")},62.5)}#P25(){this.Deck=this.#p71,this.Messenger=this.#p29,this.Hand=this.#p72,this.Bot=this.#p79,this.TrickRow=this.#p32,this.DrawPile=this.#p31,this.Stats=this.#p64,this.DiscardPlayer=this.#p5}#P21(){for(var t;null!==(t=this.#p71.M97());)t.M12(!0),this.#p44.appendChild(t.M56()),A0.f0(t.M17(),t),t.M70(!1),this.#p20.M93(t);for(;!this.#p20.M94();)this.#p31.M93(this.#p20.M22())}#P23(t,i){var s=this.#p44.offsetTop,h=this.#p44.offsetWidth,e=Math.round(h/8),p=Math.round(this.#p44.offsetHeight/5),[s,n]=this.#P15(e,p,s),h=(this.#p71.M38(s,n),this.#p29.f18(h,Math.round(n/2),0,this.#p44.offsetLeft),7*e),r=(this.#p79.f18(h,this.#p44.offsetHeight-3*p,0,0,n),this.#p30.f18(e,this.#p44.offsetHeight,0,h,s,n),this.#p44.offsetHeight-3*p);this.#p5.f18(e,p,r,0),this.#p5.M21(s,n),this.#p20.f18(e,p,r,h-e),this.#p20.M21(s,n),this.#p32.f18(h-2*e,p,r,e),this.#p72.f18(h,2*p,r+=p,0,n)}#P15(t,i,s){var s=+s,t=t-s,h=Math.round(t*k1);return i-s<h&&(h=i-s,t=Math.round(h/k1)),[t,h]}#P10(t,i,s){if(0===i)return Promise.resolve(null);for(var h=[],e=k0*t,p=0;0<i--;)h.push(g14(p).then(t=>{s()})),p+=e;return h.push(g14(p-e+k0)),Promise.all(h)}#P9(i,s,t){return this.#P10(.02,Math.min(t,i.M60()),t=>{s.M93(i.M22())})}#P8(){this.#p71.M52(t=>t.M71(!1)),this.#p5.M62(this.#p20),this.#p32.M62(this.#p20)}#P16(){this.#P12(this.#p71.M6(),this.#p31),setTimeout(t=>this.#p71.M52(t=>t.M71(!0)),0)}#P12(t,i){for(var s;0<t.length;)(s=t.pop()).M45().M61(s),i.M93(s)}#P28(t){this.#p29.M53(t)}#P24(t,i){return this.#p70.IsIcon(i)?this.#P13(i.id.split("_").pop()):"HomeCard"===i.id?(A0.A1.f3(),this.#P13("Play")):void(this.#p73||this.#p34||(t instanceof E5?this.#P18(t):t instanceof E0?this.#P14(t):t===this.#p32&&this.onClickTrickRow()))}#P13(t){"MenuIcon"===t?this.#p70.M102():"Play"===t?"Play"===A0.f4()?this.#P26():(this.#p70.M84(!0),this.#p70.M107(),A0.f20("Play")):"Home"===t?(this.#p70.M108(),this.#p70.M84(!1),A0.f20("Home")):A0.f20(t)}#P18(t){this.clicked_card=t,this.#p73||(t.M80()?t.M106(this.#p32)?this.onClickTrickRow():t.M45().M100()?this.#p33?t.M88()!==k10||this.#p26||this.#p72.M75()?this.M33(t):this.#P28("You cannot play hearts at the moment."):this.#P28("Not your turn."):this.#P28("That card is not a hand card."):this.#P28("That card is face down."))}#P14(t){this.#p73}#P26(){this.#p73||(this.#p73=!0,this.#p33=!1,this.#p26=!1,this.#p19=!1,this.#p34=!1,this.#p29.M108(),this.#p70.M108(),this.#p70.M63(!1),this.#p64.M105(),this.#p79.M105(this.#p20),this.#p72.M105(this.#p20),this.#P8(),this.#p71.M105(),this.#p71.M96(),this.#P16(),this.#p5.M83(2.5*k0),this.#p20.M83(2.5*k0),Array.from(g12("span",g13("Stats"))).forEach(t=>{t.innerHTML="0"}),this.#P9(this.#p31,this.#p72,k2).then(()=>(this.#p72.M74(),this.#P9(this.#p31,this.#p79,k4))).then(()=>{this.#p64.M64(),this.#p73=!1,this.#p33=!0,this.#p70.M63(!0)}))}M33(t){this.#p73=!0,this.#p72.M61(t),this.#p32.M93(t),this.#p33=!1,this.#p72.M74(),this.#p45?g14(k0).then(()=>this.M46()):this.#p73=!1}onBotPlayCard(t){this.#p26||t.M88()!==k10||(this.#p26=!0,this.#P28("Hearts are out!")),this.#p79.M61(t),this.#p32.M93(t),this.#p32.M60()<k3?this.#p45?g14(k0).then(()=>this.M46()):this.#p73=!1:(this.#p19=!0,this.#p73=!1)}M46(){this.#p19||this.#p33||this.#p79.M85(this.#p32.M82(),this.#p26)}M25(){this.#p34=this.#p64.M28(this.#p32.M82());const i=this.#p64.M8();this.#P10(.5,k3,()=>{var t=this.#p32.M51();(i?this.#p5:this.#p20).M93(t)}).then(()=>{var t,i;this.#p19=!1,this.#p33=!0,this.#p34&&(i="Game over &raquo You "+((t=this.#p64.M98()).win?"win":"lose"),i+=" by "+t.score+" to "+t.bot+".",this.#p29.M54(i))})}onClickTrickRow(){if(!this.#p19)return this.#p33?this.#P28("Play a card from your hand."):this.#p45?this.#P28("Trick has not ended."):this.M46();this.M25()}M47(t){this.#p45=t}M48(){this.#p45=Boolean(QuerySeachString("autoplay",this.#p45,!0)),this.#p35=Boolean(QuerySeachString("winhearts",this.#p35,!0)),g13("option_autoplay_"+(this.#p45?1:0)).checked=!0,g13("option_winhearts_"+(this.#p35?1:0)).checked=!0,Array.from(g12("input")).forEach(t=>{t.addEventListener("change",this.onChangeOption.bind(this))}),this.#p79.M39(this.#p35)}onChangeOption(t){var t=t.target.id.split("_"),i=t[1],t=Boolean(t[2]);"autoplay"===i?(this.#p45=t,!this.#p45||this.#p34||this.#p19||this.M46()):"winhearts"===i&&(this.#p35=t,this.#p79.M39(this.#p35))}}class E0 extends E3{#p81=null;#p36=[];#p65=0;#p7=!1;#p74=null;#p37=null;constructor(t){super(t,"column","center","center",!0),this.#p81=t,this.#p74=new C0(this.#p81+"_Base",!0),this.M68(this.#p74);t=this.#p74.M56();t.classList.add("CardPileBase"),t.classList.add("Clickable"),this.#p37=document.createElement("p"),this.#p37.classList.add("Hidden"),t.appendChild(this.#p37)}M19(){return this.#p74.M56()}M49(){return[this.#p74.M56(),this.M56()]}M82(){return g7(this.#p36)}M20(t){this.#p7=t,0<this.#p36.length&&this.#p36[this.#p36.length-1].M69(t)}M21(t,i){this.M10(t,i),this.M2(),this.#P11(),this.#p37.style.fontSize=Math.round(.09*t)+"px"}#P11(){const[i,s]=this.#p74.M41();this.#p36.forEach(t=>t.M42(i,s))}M26(){var i=1;this.#p36.forEach(t=>t.M72(i++))}M83(t){this.#p65=t}M34(t){this.M93(t,!0)}M13(t){this.M93(t,!1)}M93(t,i=!0){var s,h;this.#p36.includes(t)||(this.#p36[i?"push":"unshift"](t),this.#p37.innerHTML=this.#p36.length,[s,h]=this.#p74.M41(),t.M43(!1),t.M69(!1),t.M42(s,h),i?t.M72(100+this.#p36.length):t.M72(0),t.M44(this),g14(this.#p65).then(t=>{this.M26(),this.M5()}))}M14(){return this.#p74.M41()}M22(){var t;return 0===this.#p36.length?null:((t=this.#p36.pop()).M72(100+this.#p36.length),t.M70(!1),this.M5(),this.#p37.innerHTML=this.#p36.length,t)}M5(){var t=this.#p36.length-1;if(0<=t){var i=this.#p36[t];for(i.M70(!1),i.M69(this.#p7),--t;0<=t;--t)(i=this.#p36[t]).M70(!0),i.M69(!1)}}M94(){return 0===this.#p36.length}M60(){return this.#p36.length}M61(t){if(this.#p36.includes(t))return g2(this.#p36,t),t.M70(!1),this.#p37.innerHTML=this.#p36.length,this.M5(),t}M50(t){this.#p37.classList[t?"remove":"add"]("Hidden"),t&&(this.#p37.innerHTML=this.#p36.length)}M15(t){for(var i;0<this.#p36.length;)i=this.#p36[0],this.M61(i),t.M93(i)}M17(){return this.#p74.M56()}M62(t){for(;0<this.#p36.length;)t.M93(this.M22())}M35(){1<this.#p36.length&&(g6(this.#p36),this.M26(),this.M5())}M73(t){this.M56().classList[t?"add":"remove"]("Highlight")}}class E1 extends E3{#p81=null;#p38=0;#p53=!1;#p36=[];#p0=!0;constructor(t,i,s){super(t,"row","evenly","center",!0),this.#p81=t,this.#p53=s,this.#p38=i}f18(t,i,s,h){super.f18(t,i,s,h)}M0(t){this.#p0=t}M93(t){this.#p36.length===this.#p38||this.#p36.includes(t)||(t.M44(this),t.M69(!0),t.M72(100+this.#p36.length),this.#p36.push(t),this.M68(t,!0))}M61(t){if(this.#p36.includes(t))return g2(this.#p36,t),this.M31(t,this.#p0),t}M62(t){for(var i;0<this.#p36.length;)i=this.#p36[0],this.M61(i),t.M93(i)}M9(t){return this.#p36.filter(t)}M60(){return this.#p36.length}M82(){return g7(this.#p36)}M100(){return this.#p53}M94(){return 0===this.#p36.length}M101(){return this.#p36.length===this.#p38}M95(t){return this.#p36.includes(t)}M51(){if(0!==this.#p36.length)return this.M61(this.#p36[this.#p36.length-1])}}class C3{#p36=[];#p8=[];#p39=0;#p21=0;constructor(t,i=null){this.#p39=t,this.#P22(),null!==i&&this.DiscardCards(i)}#P22(){for(var t,i,s,h=0,e=[],p=0;p<4;++p)for(s=this.M37(p),e.includes(s)||e.push(s),i=2;i<=14;++i)t=new E5(h++,{id:p,symbol:this.M27(p),color:s},{nr:i,symbol:this.M23(i)}),this.#p36.push(t),this.#p21+=1;for(var n=0,r=1;r<=this.#p39;++r)t=new E5(h++,{id:k18,symbol:this.M27(k18),color:e[n]},{nr:k12,symbol:this.M23(k12)}),this.#p36.push(t),this.#p21+=1,n=(1+n)%e.length}M36(t){if(!(0<this.#p8.length))return t=this.#p36.filter(t),this.#p21-=t.length,t.forEach(t=>{g2(this.#p36,t)}),t}f18(i,s){this.M52(t=>t.M87(i,s))}M52(t){this.#p36.forEach(t),this.#p8.forEach(t)}M96(){g6(this.#p36)}M97(){var t;return 0===this.#p36.length?null:(t=g0(this.#p36),this.#p8.push(t),t)}M105(){for(;this.#p8.length;)this.#p36.push(this.#p8.pop())}M27(i){return k27.filter(t=>t.id===i).pop().symbol}M37(i){return k27.filter(t=>t.id===i).pop().color}M23(i){return i===k12||11<=i&&i<=13||i===k25?k22.filter(t=>t.value===i).pop().symbol:i}M38(i,s){this.M52(t=>t.M87(i,s))}M9(t){t=this.#p36.filter(t);return t.forEach(t=>{g2(this.#p36,t),this.#p8.push(t)}),t}M60(){return this.#p36.length}M16(){return this.#p21}M6(){for(var t=[];0<this.#p36.length;){var i=this.#p36.pop();this.#p8.push(i),t.push(i)}return t}}class C4{#p49=null;#p75=null;#lst_elements=null;constructor(t,i){this.#p49=t,this.#p75=i,this.#lst_elements=Array.from(t.children),this.#p75.classList.add("Clickable"),this.#lst_elements.forEach(t=>t.classList.add("Clickable"))}M49(){return g7(this.#lst_elements)}M107(){this.#p49.style.right=0}M108(){this.#p49.style.right=-1.1*this.#p49.offsetWidth+"px"}M102(){"0px"===this.#p49.style.right?this.M108():this.M107()}M84(t=!0){this.#p75.classList[t?"remove":"add"]("Hidden")}IsIcon(t){return t.id.startsWith("Menu")}M63(t){g13("Menu_Play").classList[t?"remove":"add"]("Hidden")}}class C1{#p49=null;#p80=null;#p40=0;#p66=0;constructor(t){this.#p49=document.createElement("div"),this.#p49.id="Messenger",this.#p80=document.createElement("p"),this.#p49.appendChild(this.#p80),this.#p40=t<1e3?1e3*t:t}M56(){return this.#p49}f18(t,i,s,h){this.#p49.style.width=t+"px",this.#p49.style.height=i+"px",this.#p49.style.left=h+"px",this.#p80.style.fontSize=Math.min(Math.round(.25*i),17)+"px",this.M108()}M108(){this.#p49.style.top=-1.1*this.#p49.offsetHeight+"px"}M7(t,i){0<this.#p40&&this.M53("<span>"+t+"</span>: "+i)}M53(t){0<this.#p40&&(clearTimeout(this.#p66),this.#p66=setTimeout(this.M108.bind(this),this.#p40),this.#p80.innerHTML=t,this.#p49.style.top=0)}M54(t){clearTimeout(this.timer),this.#p80.innerHTML=t,this.#p49.style.top=0}}class E2 extends E3{#p81=null;#p76=null;#p77=null;constructor(t){super("PilesRow_"+t,"column","between","center",!0),this.#p81=t,this.#p76=new E0(t+"_Draw"),this.M68(this.#p76)}f18(t,i,s,h,e,p){super.f18(t,i,s,h);s=Math.round(1.2*p);this.M10(t,s),this.#p77.M87(t,i-s),this.M2(),this.M24(t=>{t instanceof E0?t.M21(e,p):t.M56().style.fontSize=Math.round(.15*e)+"px"})}AddInfo(t){this.M68(t),this.#p77=t}M55(){return this.#p76}M49(){return[this.M56(),this.#p76.M56(),this.#p76.M19()]}}class E4 extends C0{#p46=0;#p3=0;#p6=0;#p9=0;#p10=0;#p22=0;#p27=0;#p77={win:null,score:-1,bot:-1};#p4=!1;constructor(t){super("Stats",t)}M105(){this.#p46=0,this.#p3=0,this.#p6=0,this.#p9=0,this.#p10=0,this.#p22=0,this.#p27=0,this.#P19()}M64(){this.#p46+=1,g13("txt_trick").innerHTML=this.#p46}#P19(){g13("txt_trick").innerHTML=this.#p46,g13("txt_player_winClean").innerHTML=this.#p3,g13("txt_player_winAll").innerHTML=this.#p6,g13("txt_player_hearts").innerHTML=this.#p9,g13("txt_bot_winClean").innerHTML=this.#p10,g13("txt_bot_winAll").innerHTML=this.#p22,g13("txt_bot_hearts").innerHTML=this.#p27,g13("txt_player_score").innerHTML=this.#P27(this.#p3,this.#p9),g13("txt_bot_score").innerHTML=this.#P27(this.#p10,this.#p27)}#P27(t,i){t*=k5;return i===k16?t+=k6:t+=i*k7,t}M28(t){var i=t[0],s=i.M88(),s=this.#P20(s,t),t=t.filter(t=>t.M88()===k10).length,s=(this.#p4=s===i,s===i?(this.#p6+=1,0===t&&(this.#p3+=1),this.#p9+=t):(this.#p22+=1,0===t&&(this.#p10+=1),this.#p27+=t),!1);return this.#p46<k15?this.#p46+=1:(s=!0,i=this.#P27(this.#p3,this.#p9),t=this.#P27(this.#p10,this.#p27),this.#p77.win=t<=i,this.#p77.score=i,this.#p77.bot=t),this.#P19(),s}M8(){return this.#p4}M98(){return this.#p77}#P20(s,t){var h=0,e=null;return t.forEach(t=>{var i;t.M88()===s&&(i=t.M78(),h<i)&&(h=i,e=t)}),e}}class E6 extends C0{#p54=0;#p47=null;#p11=0;#p41=0;#p48=0;constructor(t,i){super("Hand",!0),this.#p54=t,this.#p11=i,this.#p47=[];for(var s,h=0;h<t;++h)s=new E1("HandRow_"+h,i,!0),this.#p47.push(s)}M49(){for(var t=[this.M56()],i=0;i<this.#p54;++i)t.push(this.#p47[i].M56());return t}f18(t,i,s,h,e){for(var p=Math.floor(i/this.#p54),n=0;n<this.#p54;++n)this.#p47[n].f18(t,p,s,h),s+=p;super.f18(t,i,s,h)}M93(t){t.M56().style.transform="rotate(0deg)",t.M88()===k10&&(this.#p41+=1),this.#p48+=1;for(var i=0;this.#p47[i].M101();)i+=1;this.#p47[i].M93(t)}M105(t){this.#p41=0;for(var i=this.#p48=0;i<this.#p54;++i)this.#p47[i].M62(t)}M61(t){for(var i,s=0;s<this.#p54;++s)if((i=this.#p47[s]).M95(t))return i.M61(t),t.M88()===k10&&--this.#p41,--this.#p48,t;return null}M74(){for(var i=[],s=0;s<this.#p54;++s)for(h=this.#p47[s];!h.M94();)i.push(h.M51());i.sort((t,i)=>{var s=t.M88(),h=i.M88();return s!==h?s-h:t.M78()-i.M78()});var h=this.#p47[0],s=0;i.forEach(t=>{(h=s===k8?this.#p47[1]:h).M93(i[s++])})}M75(){return this.#p48===this.#p41}}class E7 extends C0{#p54=0;#p47=null;#p23=0;#p15=0;#p12=0;#p24=null;#p13=null;#p16=null;#p17=null;#p28=!0;constructor(t,i){super("Bot",!0),this.#p54=t,this.#p17=i,this.#p47=[];for(var s,h=0;h<t;++h)(s=new E1("BotRow_"+h,k8,!1)).M57(h%2==0?"between":"around"),s.M0(!1),this.#p47.push(s)}M39(t){this.#p28=t}M49(){var i=[this.M56()];return this.#p47.forEach(t=>{i.push(t.M56())}),i}f18(i,t,s,h,e){super.f18(i,t,s,h);const p=Math.round((t-this.#p54*e)/(this.#p54-1));var n=s;this.#p47.forEach(t=>{t.f18(i,e,n,h),n+=e+p})}M93(t){this.#p47[this.#p23].M93(t),t.M69(this.#p23===this.#p54-1),t.M72(this.#p23),t.M91({row:this.#p23,column:this.#p15}),t.M80()?(this.#p16.push(t),t.M56().style.transform="rotate(0deg)"):t.M56().style.transform="rotate("+Math.f14(-3,3)+"deg)",this.#p13.push(t),this.#p15+=1,this.#p15===this.#p12&&(this.#p23+=1,this.#p23<this.#p54)&&(this.#p15=0,this.#p12=k8,this.#p23%2!=0&&--this.#p12,this.#p13=[],this.#p24.push(this.#p13))}M105(i){this.#p23=0,this.#p15=0,this.#p12=k8,this.#p13=[],this.#p24=[],this.#p24.push(this.#p13),this.#p16=[],this.#p47.forEach(t=>t.M62(i))}M85(t,i){var s,h,e;return 0===t.length||t.length===k3?null:(s=t[0].M88(),e=null,e=0<(h=this.M3(s)).length?this.M4(t,s,h):this.M1(),void this.#p17(e))}M3(i){return this.#p16.filter(t=>t.M88()===i)}M4(t,i,s){var h;return i!==k10&&!this.M29(t)||this.#p28?(t=this.M65(i,t),(h=this.M65(i,s)).M78()>t.M78()?h:this.M67(s)):this.M66(i,s)}M29(t){return null!==this.M65(k10,t)}M65(s,t){var h=0,e=null;return t.forEach(t=>{var i;t.M88()===s&&(i=t.M78(),h<i)&&(h=i,e=t)}),e}M66(s,t){var h=1/0,e=null;return t.forEach(t=>{var i;t.M88()===s&&(i=t.M78())<h&&(h=i,e=t)}),e}M67(t){var s=1/0,h=null;return t.forEach(t=>{var i=t.M78();i<s&&(s=i,h=t)}),h}M1(){var t=this.M65(k10,this.#p16);if(null!==t)return t;const i=this.M67(this.#p16).M78();t=this.#p16.filter(t=>t.M78()===i);return 1===t.length?t[0]:t[Math.f17(0,t.length-1)]}M61(t){g2(this.#p16,t);var i=t.M92();this.#p24[i.row][i.column]=null,this.#p47[i.row].M61(t),t.M56().style.transform="rotate(0deg)",0<i.row&&this.M76(i.row,i.column)}M76(t,i){var s=t-1;this.M40(s,i),t%2!=0?this.M40(s,i+1):this.M40(s,i-1)}M40(t,i){var s;i<0||i>=(s=this.#p24[t]).length||null!==(s=s[i])&&(t%2==0?this.M30(t+1,i)&&this.M30(t+1,i-1):this.M30(t+1,i)&&this.M30(t+1,i+1))&&(s.M69(!0),s.M56().style.transform="rotate(0deg)",this.#p16.push(s))}M30(t,i){return i<0||i>=(t=this.#p24[t]).length||null===t[i]}}const k1=16/11,k23=5,k24=0,k0=g8("CARD_TRANSLATE_TIME",!0),k28=6,k8=7,k3=4,k2=13,k15=13,k4=52-k2,k16=13,k6=13,k5=4,k7=-1,k10=0,k11=1,k9=2,k17=3,k18=4,k19=["hearts","spades","diamonds","clubs","joker"],k12=0,k20=11,k13=12,k21=13,k25=14,k26="Red",k14="Black",k27=[{id:k10,symbol:"&hearts;",color:k26},{id:k11,symbol:"&spades;",color:k14},{id:k9,symbol:"&diams;",color:k26},{id:k17,symbol:"&clubs;",color:k14},{id:k18,symbol:"",color:""}],k22=[{value:k20,symbol:"J"},{value:k13,symbol:"Q"},{value:k21,symbol:"K"},{value:k25,symbol:"A"},{value:k12,symbol:"&#x2605;"}];window.addEventListener("load",()=>{new C2});