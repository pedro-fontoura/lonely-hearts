'use strict;'
const A0={viewport:null,viewport_width:0,pages_container:null,nr_pages:0,lst_pages:null,current_page_idx:0,previous_page_idx:0,client_onResize:null,client_onClick:null,mouse_or_touch:null,PAGE_FREE:0,PAGE_LANDSCAPE:1,PAGE_PORTRAIT:-1,page_before_rotate:-1,page_mode:0,page_rotate_id:0,error_node:null,error_page:null,f23:function(t,i){this.viewport=document.getElementById("AppViewport"),this.pages_container=document.getElementById("AppPagesContainer"),this.lst_pages=Array.from(document.querySelectorAll(".AppPage")),this.nr_pages=this.lst_pages.length,window.hasOwnProperty("cordova")?this.mouse_or_touch="mousedown":this.mouse_or_touch=void 0!==window.ontouchstart?"touchstart":"mousedown",A0.f18(null),this.client_onResize=t||null,this.client_onClick=i||null,window.visualViewport.addEventListener("resize",A0.f18.bind(this))},f18:function(t){this.viewport_width=this.viewport.offsetWidth,this.viewport.style.height=window.visualViewport.height+"px",this.pages_container.style.width=this.nr_pages*this.viewport_width+"px",this.pages_container.style.left=-this.current_page_idx*this.viewport.offsetWidth+"px",this.lst_pages.forEach(t=>t.style.width=this.viewport_width+"px"),this.f8(),this.f11(),null!==this.client_onResize&&this.client_onResize(this.viewport_width,this.viewport.offsetHeight)},f19:function(){return this.viewport_width},f15:function(){return this.viewport.offsetHeight},f20:function(t=""){if("string"==typeof t){var i=0,s=t;for(t=this.current_page_idx;i<this.nr_pages;){if(this.lst_pages[i].id===s){t=i;break}i++}}return this.pages_container.style.left=-t*this.viewport.offsetWidth+"px",this.previous_page_idx=this.current_page_idx,this.current_page_idx=t},f9:function(){return this.current_page_idx},f4:function(){return this.lst_pages[this.current_page_idx].id},f8:function(){this.f20(this.current_page_idx)},f5:function(){this.f20(this.current_page_idx)},f13:function(t,i){this.page_mode=t,this.page_rotate_id=i,this.f11()},f11:function(){return this.show_page=!1,this.page_mode!==this.PAGE_FREE&&(Math.sign(this.viewport.offsetWidth-this.viewport.offsetHeight)!==this.page_mode?(-1===this.page_before_rotate&&(this.page_before_rotate=this.current_page_idx),this.f20(this.page_rotate_id),this.show_page=!0):-1!==this.page_before_rotate&&(this.f20(this.page_before_rotate),this.page_before_rotate=-1,this.show_page=!0)),this.show_page||this.f8(),this.show_page},f0:function(t,i){t.addEventListener(this.mouse_or_touch,this.f21.bind(this,i)),t.addEventListener("contextmenu",this.f10.bind(this))},f6:function(t,i,s){"mousedown"===(i="MOUSE||TOUCH"===i?this.mouse_or_touch:i)&&t.addEventListener("contextmenu",this.f10.bind(this)),t.addEventListener(i,s)},f12:function(t){return t.stopPropagation(),t.preventDefault(),t.target},f21:function(t,i){this.f12(i),null!==this.client_onClick&&this.client_onClick(t,i.target)},f10:function(t){this.f12(t),t.target.click()},f1:function(t){if("serviceWorker"in navigator&&"https:"===window.location.protocol&&void 0===window.cordova){if(this.A1&&!this.A1.f22())return;navigator.serviceWorker.register(t).then(t=>{}).catch(t=>{})}},f7:function(t="AppError"){"string"==typeof t&&(t=document.getElementById(t)),this.error_node=t,this.error_page=g1(t,"section"),window.addEventListener("unhandledrejection",t=>{t.preventDefault(),this.f16("Unhandled rejection",t.reason)}),window.addEventListener("error",t=>{t.preventDefault();t=[t.error.message,t.error.fileName,t.error.lineNumber,this.f2(t.error)].join("<br>");this.f16("Error",t)})},f2:function(t){return t.stack.split("at ").join("<br>&bull; ")},f16:function(t,i){this.error_node.innerHTML+="<h3>"+t+"</h3>"+i,null!==this.error_page&&this.f20(this.error_page.id)}};class C0{#p87=null;#p84=1/0;#p73=1/0;#p66=1/0;#p60=1/0;#p54=null;constructor(t,i=!1){this.#p87=t,!0===i?this.#p54=this.#P18():i instanceof Node&&(this.#p54=i,this.#p54.id=this.#p87,this.#p54.classList.add("FlexBoxEntity"))}#P18(){var t=document.createElement("div");return t.id=this.#p87,t.classList.add("FlexBoxEntity"),t}M112(){return this.#p87}M47(){return[this.#p84,this.#p73]}M62(){return this.#p54}f19(){return this.#p66}f15(){return this.#p60}M107(){return this.#p84}M93(){return this.#p73}f18(t,i,s,h){this.M48(s,h),this.M94(t,i)}M48(t,i){this.#p84=t,this.#p73=i,null!==this.#p54&&(this.#p54.style.top=t+"px",this.#p54.style.left=i+"px")}M94(t,i){this.#p66=t,this.#p60=i,null!==this.#p54&&(this.#p54.style.width=t+"px",this.#p54.style.height=i+"px")}}class E3 extends C0{#p19=null;#p55=null;#p67=null;#p15=[];#p2=null;constructor(t,i,s,h,p=!1){super(t,p),this.#p19=i,this.#p55=s,this.#p67=h,p&&this.M62().classList.add("FlexBox")}M74(t,i=!0){this.#p15[i?"push":"unshift"](t),null!==this.#p2&&this.#p15.sort(this.#p2),this.M2()}M35(t,i=!0){g2(this.#p15,t),i&&this.M2()}f18(t,i,s,h){super.f18(t,i,s,h),this.M2()}M11(i,s){0<this.#p15.length&&this.#p15.forEach(t=>t.M94(i,s))}M2(){var i,s,h,p;0!==this.#p15.length&&(s=i=0,this.#p15.forEach(t=>{i+=t.f19(),s+=t.f15()}),i!==1/0)&&s!==1/0&&("row"===this.#p19?(h=this.#P6(this.#p55)(!0,"width",i),p=this.#P6(this.#p67)(!1,"height",s)):(p=this.#P6(this.#p55)(!0,"height",s),h=this.#P6(this.#p67)(!1,"width",i)),this.#p15.forEach(t=>{t.M48(p.shift(),h.shift())}))}M26(i){this.#p15.forEach(t=>i(t))}#P6(t){return"center"===t?this.#P1.bind(this):"start"===t?this.#P4.bind(this):"end"===t?this.#P5.bind(this):"evenly"===t?this.#P2.bind(this):"between"===t?this.#P0.bind(this):"around"===t?this.#P3.bind(this):void 0}#P7(t,i){for(var s,h="width"===i?this.M93():this.M107(),p=[],e=0;e<this.#p15.length;++e)t&&0<e&&(s=this.#p15[e-1],h+="width"===i?s.f19():s.f15()),p.push(h);return p}#P4(t,i,s){return this.#P7(t,i)}#P1(t,i,s){for(var h,p=this.#P7(t,i),e=this.#p15.length,n="width"===i?this.f19():this.f15(),r=Math.round((n-s)/2),o=0;o<e;++o)t?p[o]+=r:(h=this.#p15[o],p[o]+=Math.round((n-("width"===i?h.f19():h.f15()))/2));return p}#P5(t,i,s){for(var h,p=this.#P7(t,i),e=this.#p15.length,n="width"===i?this.f19():this.f15(),r=Math.round(n-s),o=0;o<e;++o)t?p[o]+=r:(h=this.#p15[o],p[o]+=n-("width"===i?h.f19():h.f15()));return p}#P2(t,i,s){for(var h=this.#P7(t,i),p=this.#p15.length,t="width"===i?this.f19():this.f15(),e=Math.round((t-s)/(p+1)),n=0;n<p;++n)h[n]+=(n+1)*e;return h}#P0(t,i,s){for(var h=this.#P7(t,i),p=this.#p15.length,t="width"===i?this.f19():this.f15(),e=Math.round((t-s)/(p-1)),n=1;n<p;++n)h[n]+=n*e;return h}#P3(t,i,s){for(var h=this.#P7(t,i),p=this.#p15.length,t="width"===i?this.f19():this.f15(),i=Math.round(s/this.#p15.length),e=Math.round((t-i*(this.#p15.length+1))/this.#p15.length),n=Math.round(i/2+e/2),r=0;r<p;++r)h[r]+=n;for(var o=Math.round((t-s-2*n)/(p-1)),r=1;r<p;++r)h[r]+=r*o;return h}M12(t){this.#p2=t}M63(t){this.#p55=t}}function g13(t){return document.getElementById(t)}function g11(t,i){return(i=i||document).getElementsByTagName(t)[0]}function g12(t,i){return(i=i||document).getElementsByTagName(t)}function g9(t,i=document){return i.querySelector(t)}function g10(t,i=document){return i.querySelectorAll(t)}function g1(t,i){for(i=i.toUpperCase();null!==t&&t.tagName!==i;)t=t.parentNode;return t}function g14(s,h=null){return new Promise((t,i)=>setTimeout(t,s,h))}function g5(i,t){t.forEach(t=>null!==t&&i.appendChild(t))}function QuerySeachString(t,i=null,s=!1){t=new URL(window.location).searchParams.get(t);return null===t?t=i:s&&(t=parseInt(t,10)),t}function g8(t,i){t=getComputedStyle(document.documentElement).getPropertyValue("--"+t.split("--").pop()).trim();return i?parseInt(t,10):t}function g6(t){for(var i=t.length-1;0<i;i--){var s=Math.floor(Math.random()*(i+1)),h=t[i];t[i]=t[s],t[s]=h}}function g7(t){return t.concat()}function g2(t,i){return t.includes(i)?t.splice(t.indexOf(i),1).pop():null}function g3(t,i){return i>=t.length?null:t.splice(i,1).pop()}function g0(t){return g3(t,Math.f17(0,t.length-1))}function g4(t){return t[Math.f17(0,t.length-1)]}A0.A1={},A0.A1.f22=function(){return 0<navigator.maxTouchPoints},A0.A1.f24=function(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},A0.A1.f3=function(){document.fullscreenElement||!this.f22()||this.f24()||document.documentElement.requestFullscreen instanceof Function&&document.documentElement.requestFullscreen({navigationUI:"hide"})},Math.f17=function(t,i){return Math.floor(Math.random()*(i-t+1))+t},Math.f14=function(t,i){return t+Math.random()*(i-t)};class E5 extends C0{#p87=null;#p74=-1;#p68=-1;#p69=-1;#p56=!0;#p46=!1;#p1=!0;#p47=null;#p61=null;#p62=null;#p63=null;#p57=null;#p28=null;#p64=null;#p75=null;#p65=!1;constructor(t,i,s){super("Card_"+t,!0),this.#p87=t,this.#p74=i.id,this.#p68=s.nr,this.#p69=i.color,this.M84(s.symbol,s.nr,i.symbol),this.M13(this.#p1)}M19(){return this.#p61}M13(t){(this.#p1=t)&&(this.M96()||this.M113())?this.#p28.classList.remove("Hidden"):this.#p28.classList.add("Hidden")}M84(t,i,s){this.#p61=document.createElement("div"),this.#p61.classList.add("CardBody"),this.#p61.classList.add("Clickable"),this.#p62=document.createElement("div"),this.#p62.classList.add("CardFace"),this.#p61.appendChild(this.#p62),this.#p63=document.createElement("div"),this.#p63.classList.add("CardBack"),this.#p61.appendChild(this.#p63),this.#p57=document.createElement("p"),this.#p57.classList.add("CardValue"),this.#p57.classList.add("CardValue"+this.#p69);var h=document.createElement("span"),t=(h.innerHTML=t,this.#p57.appendChild(h),this.#p62.appendChild(this.#p57),this.#p28=document.createElement("span"),(this.M96()||this.M113())&&(this.#p28.innerHTML=i),this.#p57.appendChild(this.#p28),this.#p64=document.createElement("p"),this.#p64.innerHTML=s,this.#p64.classList.add("CardSuit"),this.#p64.classList.add("CardSuit"+this.#p69),this.#p62.appendChild(this.#p64),this.#p56||this.#p61.classList.add("FaceDown"),this.M96()?this.#p62.classList.add("CardRoyal"):this.M97()?this.#p62.classList.add("CardJoker"):this.M113()&&this.#p62.classList.add("CardAce"),this.M62());t.classList.add("Card"),t.classList.add("CardSmooth"),t.classList.add("CardHidden"),t.appendChild(this.#p61)}M85(){return this.#p68}M95(){return this.#p74}M86(){return this.#p69}M94(t,i){super.M94(t,i),this.#p57.style.fontSize=Math.round(.3*t)+"px",this.#p57.children.length&&(this.#p57.children[1].style.fontSize=Math.round(.2*t)+"px"),this.#p64.style.fontSize=Math.round(.4*t)+"px"}M75(t){this.#p56=t,this.#p61.classList[t?"remove":"add"]("FaceDown")}M49(t){this.#p46=t,this.#p61.classList[t?"add":"remove"]("CardSelected")}M20(){return this.M49(!this.#p46),this.#p46}M50(t){this.#p47=t}M115(t){return this.#p47===t}M51(){return this.#p47}M96(){return[k22,k15,k23].includes(this.#p68)}M64(){return this.M96()}M97(){return this.#p68===k14}M113(){return this.#p68===k27}M87(){return this.#p56}M65(){return this.#p46}M76(t){this.M62().classList[t?"add":"remove"]("CardHidden")}M77(t){this.M62().classList[t?"add":"remove"]("CardSmooth")}M78(t){this.M62().style.zIndex=t}M36(){return this.M96()||this.M113()}M88(){return"#"+this.#p87+"="+this.#p68+"/"+k21[this.#p74]}M98(t){this.#p75=t}M99(){return this.#p75}M100(){return this.#p68===k15}M108(t){return this.#p74===t}M14(){return this.M100()&&this.M108(k13)}M79(t){return this.#p65=t,this.#p57.classList[t?"add":"remove"]("Marked"),t}}class C2{#p48=null;#p32=null;#p76=null;#p77=null;#p33=null;#p34=null;#p85=null;#p35=null;#p78=null;#p70=null;#p79=!1;#p36=!1;#p29=!1;#p20=!1;#p37=!0;#p49=0;#p38=1;#p21=1;#p5=null;#p22=null;#p39=0;constructor(){this.clicked_card=null,A0.f23(this.#P24.bind(this),this.#P25.bind(this)),A0.f7(),A0.f13(A0.PAGE_LANDSCAPE,"Rotate"),this.#p48=g13("GameViewport"),this.#p32=new C1(k25),this.#p76=new C4(g13("MenuPannel"),g13("MenuIcon")),this.#p77=new C3(k26),this.#p33=new E2,this.#p85=new E7(k30,this.onBotPlayCard.bind(this)),this.#p70=new E4(g13("Stats")),this.#p33.AddInfo(this.#p70),this.#p34=this.#p33.M61(),this.#p5=new E0("DiscardPlayer"),this.#p22=new E0("DiscardBot"),this.#p35=new E1("TrickRow",k3,!1),this.#p78=new E6(2,k9),g13("Play").appendChild(this.#p32.M62()),this.#p48.appendChild(this.#p35.M62()),g5(this.#p48,this.#p33.M55()),g5(this.#p48,this.#p85.M55()),g5(this.#p48,this.#p78.M55()),g5(this.#p48,this.#p5.M55()),g5(this.#p48,this.#p22.M55()),A0.f6(window,"contextmenu",A0.f12.bind(A0)),A0.f0(g13("HomeCard"),null),A0.f0(g13("MenuIcon"),null),this.#p76.M55().forEach(t=>A0.f0(t,null)),A0.f0(this.#p35.M62(),this.#p35),this.#p35.M62().classList.add("Clickable"),this.#p76.M117(),this.#P24(0,0),this.#P22(),this.#P26(),this.M54(),window.setTimeout(()=>{A0.f11(),g13("AppViewport").classList.remove("AppInit")},62.5)}#P26(){this.Deck=this.#p77,this.Messenger=this.#p32,this.Hand=this.#p78,this.Bot=this.#p85,this.TrickRow=this.#p35,this.DrawPile=this.#p34,this.Stats=this.#p70,this.DiscardPlayer=this.#p5}#P22(){for(var t;null!==(t=this.#p77.M105());)t.M13(!0),this.#p48.appendChild(t.M62()),A0.f0(t.M19(),t),t.M76(!1),this.#p22.M101(t);for(;!this.#p22.M102();)this.#p34.M101(this.#p22.M24())}#P24(t,i){var s=this.#p48.offsetTop,h=this.#p48.offsetWidth,p=Math.round(h/8),e=Math.round(this.#p48.offsetHeight/5),[s,n]=this.#P16(p,e,s),h=(this.#p77.M44(s,n),this.#p32.f18(h,Math.round(n/2),0,this.#p48.offsetLeft),7*p),r=(this.#p85.f18(h,this.#p48.offsetHeight-3*e,0,0,n),this.#p33.f18(p,this.#p48.offsetHeight,0,h,s,n),this.#p48.offsetHeight-3*e);this.#p5.f18(p,e,r,0),this.#p5.M23(s,n),this.#p22.f18(p,e,r,h-p),this.#p22.M23(s,n),this.#p35.f18(h-2*p,e,r,p),this.#p78.f18(h,2*e,r+=e,0,n)}#P16(t,i,s){var s=+s,t=t-s,h=Math.round(t*k1);return i-s<h&&(h=i-s,t=Math.round(h/k1)),[t,h]}#P11(t,i,s){if(0===i)return Promise.resolve(null);for(var h=[],p=k0*t,e=0;0<i--;)h.push(g14(e).then(t=>{s()})),e+=p;return h.push(g14(e-p+k0)),Promise.all(h)}#P10(s,h,t){return this.#P11(.02,Math.min(t,s.M66()),t=>{var i=s.M24();i.M79(this.#p21&&i.M14()),h.M101(i)})}#P8(){this.#p77.M58(t=>t.M77(!1)),this.#p5.M68(this.#p22),this.#p35.M68(this.#p22)}#P17(){this.#P13(this.#p77.M6(),this.#p34),setTimeout(t=>this.#p77.M58(t=>t.M77(!0)),0)}#P13(t,i){for(var s;0<t.length;)(s=t.pop()).M51().M67(s),i.M101(s)}#P29(t){this.#p32.M59(t)}#P25(t,i){return this.#p76.IsIcon(i)?this.#P14(i.id.split("_").pop()):"HomeCard"===i.id?(A0.A1.f3(),this.#P14("Play")):void(this.#p79||this.#p37||(t instanceof E5?this.#P19(t):t instanceof E0?this.#P15(t):t===this.#p35&&this.onClickTrickRow()))}#P14(t){"MenuIcon"===t?this.#p76.M111():"Play"===t?"Play"===A0.f4()?this.#P27():(this.#p76.M91(!0),this.#p76.M116(),A0.f20("Play")):"Home"===t?(this.#p76.M117(),this.#p76.M91(!1),A0.f20("Home")):A0.f20(t)}#P19(t){if(this.clicked_card=t,!this.#p79)if(t.M87())if(t.M115(this.#p35))this.onClickTrickRow();else{if(t.M51().M109())return 0<this.#p39?this.M38(t):void(this.#p36?this.#p29||!(t.M95()===k12||this.#p21&&t.M14())||this.#p78.M82()?this.M37(t):(t.M95()===k12&&this.#P29("You cannot play hearts at the moment."),t.M14()&&this.#P29("You cannot play the Queen of Spades at the moment.")):this.#P29("Not your turn."));this.#P29("That card is not a hand card.")}else this.#P29("That card is face down.")}#P15(t){this.#p79}#P27(){this.#p79||(this.#p79=!0,this.#p36=!1,this.#p29=!1,this.#p20=!1,this.#p37=!1,this.#p39=0,this.#p32.M117(),this.#p76.M117(),this.#p76.M69(!1),this.#p70.M114(),this.#p85.M114(this.#p22),this.#p78.M114(this.#p22),this.#P8(),this.#p77.M114(),this.#p77.M104(),this.#P17(),this.#p5.M90(2.5*k0),this.#p22.M90(2.5*k0),Array.from(g12("span",g13("Stats"))).forEach(t=>{t.innerHTML="0"}),this.#P10(this.#p34,this.#p78,k2).then(()=>{this.#p21&&this.xCleanHand(),this.#p78.M81(),this.#p39=k6,0===this.#p39?this.M39():(this.#P29("Hand swap &raquo; Click "+k6+" cards from your hand to redraw."),this.#p79=!1)}))}M37(t){this.#p79=!0,this.#p78.M67(t),this.#p35.M101(t),this.#p36=!1,this.#p78.M81(),this.#p49?g14(k0).then(()=>this.M52()):this.#p79=!1}onBotPlayCard(t){this.#p29||t.M95()!==k12||(this.#p29=!0,this.#P29("Hearts are out!")),this.#p85.M67(t),this.#p35.M101(t),this.#p35.M66()<k3?this.#p49?g14(k0).then(()=>this.M52()):this.#p79=!1:(this.#p20=!0,this.#p79=!1)}M52(){this.#p20||this.#p36||this.#p85.M92(this.#p35.M89(),this.#p29)}M27(){this.#p37=this.#p70.M30(this.#p35.M89());const i=this.#p70.M8();this.#P11(.5,k3,()=>{var t=this.#p35.M57();(i?this.#p5:this.#p22).M101(t)}).then(()=>{var t,i;this.#p20=!1,this.#p36=!0,this.#p37&&(i="Game over &raquo You "+((t=this.#p70.M106()).win?"win":"lose"),i+=" by "+t.score+" to "+t.bot+".",this.#p32.M60(i))})}onClickTrickRow(){if(!this.#p20)return this.#p36?this.#P29("Play a card from your hand."):this.#p49?this.#P29("Trick has not ended."):this.M52();this.M27()}M53(t){this.#p49=t}M54(){this.#p49=Boolean(QuerySeachString("autoplay",this.#p49,!0)),this.#p38=Boolean(QuerySeachString("winhearts",this.#p38,!0)),this.#p21=Boolean(QuerySeachString("qos",this.#p21,!0)),g13("option_autoplay_"+(this.#p49?1:0)).checked=!0,g13("option_winhearts_"+(this.#p38?1:0)).checked=!0,g13("option_qos_"+(this.#p21?1:0)).checked=!0,Array.from(g12("input")).forEach(t=>{t.addEventListener("change",this.onChangeOption.bind(this))}),this.#p85.M45(this.#p38),this.#p85.M31(this.#p21),this.#p70.M31(this.#p21),this.#p78.M31(this.#p21)}onChangeOption(t){var t=t.target.id.split("_"),i=t[1],t=Boolean(t[2]);"autoplay"===i?(this.#p49=t,!this.#p49||this.#p37||this.#p20||this.M52()):"winhearts"===i?(this.#p38=t,this.#p85.M45(this.#p38)):"qos"===i&&(this.#p21=t,this.#p85.M31(this.#p21),this.#p70.M31(this.#p21),this.#p78.M31(this.#p21))}M38(t){this.busy=!0,--this.#p39,this.xSwapHandCard(t).then(()=>{this.#p21&&this.xCleanHand(),0===this.#p39?this.M39():this.busy=!1})}xSwapHandCard(t){return this.#p78.M67(t),this.#p34.M101(t),g14(k0).then(()=>(this.#p34.M41(),this.#P10(this.#p34,this.#p78,1))).then(()=>{this.#p78.M81()})}async xCleanHand(){for(var t;null!==(t=this.#p78.M10())&&await this.xSwapHandCard(t),null!==t;);return t}M39(){this.#p79=!0,this.#P10(this.#p34,this.#p85,k4).then(()=>{this.#p70.M70(),this.#p76.M69(!0),this.#p36=!0,this.#p79=!1})}}class E0 extends E3{#p87=null;#p40=[];#p71=0;#p8=!1;#p80=null;#p41=null;constructor(t){super(t,"column","center","center",!0),this.#p87=t,this.#p80=new C0(this.#p87+"_Base",!0),this.M74(this.#p80);t=this.#p80.M62();t.classList.add("CardPileBase"),t.classList.add("Clickable"),this.#p41=document.createElement("p"),this.#p41.classList.add("Hidden"),t.appendChild(this.#p41)}M21(){return this.#p80.M62()}M55(){return[this.#p80.M62(),this.M62()]}M89(){return g7(this.#p40)}M22(t){this.#p8=t,0<this.#p40.length&&this.#p40[this.#p40.length-1].M75(t)}M23(t,i){this.M11(t,i),this.M2(),this.#P12(),this.#p41.style.fontSize=Math.round(.09*t)+"px"}#P12(){const[i,s]=this.#p80.M47();this.#p40.forEach(t=>t.M48(i,s))}M28(){var i=1;this.#p40.forEach(t=>t.M78(i++))}M90(t){this.#p71=t}M40(t){this.M101(t,!0)}M15(t){this.M101(t,!1)}M101(t,i=!0){var s,h;this.#p40.includes(t)||(this.#p40[i?"push":"unshift"](t),this.#p41.innerHTML=this.#p40.length,[s,h]=this.#p80.M47(),t.M49(!1),t.M75(!1),t.M48(s,h),i?t.M78(100+this.#p40.length):t.M78(0),t.M50(this),g14(this.#p71).then(t=>{this.M28(),this.M5()}))}M16(){return this.#p80.M47()}M24(){var t;return 0===this.#p40.length?null:((t=this.#p40.pop()).M78(100+this.#p40.length),t.M76(!1),this.M5(),this.#p41.innerHTML=this.#p40.length,t)}M5(){var t=this.#p40.length-1;if(0<=t){var i=this.#p40[t];for(i.M76(!1),i.M75(this.#p8),--t;0<=t;--t)(i=this.#p40[t]).M76(!0),i.M75(!1)}}M102(){return 0===this.#p40.length}M66(){return this.#p40.length}M67(t){if(this.#p40.includes(t))return g2(this.#p40,t),t.M76(!1),this.#p41.innerHTML=this.#p40.length,this.M5(),t}M56(t){this.#p41.classList[t?"remove":"add"]("Hidden"),t&&(this.#p41.innerHTML=this.#p40.length)}M17(t){for(var i;0<this.#p40.length;)i=this.#p40[0],this.M67(i),t.M101(i)}M19(){return this.#p80.M62()}M68(t){for(;0<this.#p40.length;)t.M101(this.M24())}M41(){1<this.#p40.length&&(g6(this.#p40),this.M28(),this.M5())}M80(t){this.M62().classList[t?"add":"remove"]("Highlight")}}class E1 extends E3{#p87=null;#p42=0;#p58=!1;#p40=[];#p0=!0;constructor(t,i,s){super(t,"row","evenly","center",!0),this.#p87=t,this.#p58=s,this.#p42=i}f18(t,i,s,h){super.f18(t,i,s,h)}M0(t){this.#p0=t}M101(t){this.#p40.length===this.#p42||this.#p40.includes(t)||(t.M50(this),t.M75(!0),t.M78(100+this.#p40.length),this.#p40.push(t),this.M74(t,!0))}M67(t){if(this.#p40.includes(t))return g2(this.#p40,t),this.M35(t,this.#p0),t}M68(t){for(var i;0<this.#p40.length;)i=this.#p40[0],this.M67(i),t.M101(i)}M9(t){return this.#p40.filter(t)}M66(){return this.#p40.length}M89(){return g7(this.#p40)}M109(){return this.#p58}M102(){return 0===this.#p40.length}M110(){return this.#p40.length===this.#p42}M103(t){return this.#p40.includes(t)}M57(){if(0!==this.#p40.length)return this.M67(this.#p40[this.#p40.length-1])}M10(){var i=null;return this.#p40.forEach(t=>{t.M14()&&(i=t)}),i}}class C3{#p40=[];#p9=[];#p43=0;#p23=0;constructor(t,i=null){this.#p43=t,this.#P23(),null!==i&&this.DiscardCards(i)}#P23(){for(var t,i,s,h=0,p=[],e=0;e<4;++e)for(s=this.M43(e),p.includes(s)||p.push(s),i=2;i<=14;++i)t=new E5(h++,{id:e,symbol:this.M29(e),color:s},{nr:i,symbol:this.M25(i)}),this.#p40.push(t),this.#p23+=1;for(var n=0,r=1;r<=this.#p43;++r)t=new E5(h++,{id:k20,symbol:this.M29(k20),color:p[n]},{nr:k14,symbol:this.M25(k14)}),this.#p40.push(t),this.#p23+=1,n=(1+n)%p.length}M42(t){if(!(0<this.#p9.length))return t=this.#p40.filter(t),this.#p23-=t.length,t.forEach(t=>{g2(this.#p40,t)}),t}f18(i,s){this.M58(t=>t.M94(i,s))}M58(t){this.#p40.forEach(t),this.#p9.forEach(t)}M104(){g6(this.#p40)}M105(){var t;return 0===this.#p40.length?null:(t=g0(this.#p40),this.#p9.push(t),t)}M114(){for(;this.#p9.length;)this.#p40.push(this.#p9.pop())}M29(i){return k29.filter(t=>t.id===i).pop().symbol}M43(i){return k29.filter(t=>t.id===i).pop().color}M25(i){return i===k14||11<=i&&i<=13||i===k27?k24.filter(t=>t.value===i).pop().symbol:i}M44(i,s){this.M58(t=>t.M94(i,s))}M9(t){t=this.#p40.filter(t);return t.forEach(t=>{g2(this.#p40,t),this.#p9.push(t)}),t}M66(){return this.#p40.length}M18(){return this.#p23}M6(){for(var t=[];0<this.#p40.length;){var i=this.#p40.pop();this.#p9.push(i),t.push(i)}return t}}class C4{#p54=null;#p81=null;#lst_elements=null;constructor(t,i){this.#p54=t,this.#p81=i,this.#lst_elements=Array.from(t.children),this.#p81.classList.add("Clickable"),this.#lst_elements.forEach(t=>t.classList.add("Clickable"))}M55(){return g7(this.#lst_elements)}M116(){this.#p54.style.right=0}M117(){this.#p54.style.right=-1.1*this.#p54.offsetWidth+"px"}M111(){"0px"===this.#p54.style.right?this.M117():this.M116()}M91(t=!0){this.#p81.classList[t?"remove":"add"]("Hidden")}IsIcon(t){return t.id.startsWith("Menu")}M69(t){g13("Menu_Play").classList[t?"remove":"add"]("Hidden")}}class C1{#p54=null;#p86=null;#p44=0;#p72=0;constructor(t){this.#p54=document.createElement("div"),this.#p54.id="Messenger",this.#p86=document.createElement("p"),this.#p54.appendChild(this.#p86),this.#p44=t<1e3?1e3*t:t}M62(){return this.#p54}f18(t,i,s,h){this.#p54.style.width=t+"px",this.#p54.style.height=i+"px",this.#p54.style.left=h+"px",this.#p86.style.fontSize=Math.min(Math.round(.25*i),17)+"px",this.M117()}M117(){this.#p54.style.top=-1.1*this.#p54.offsetHeight+"px"}M7(t,i){0<this.#p44&&this.M59("<span>"+t+"</span>: "+i)}M59(t){0<this.#p44&&(clearTimeout(this.#p72),this.#p72=setTimeout(this.M117.bind(this),this.#p44),this.#p86.innerHTML=t,this.#p54.style.top=0)}M60(t){clearTimeout(this.timer),this.#p86.innerHTML=t,this.#p54.style.top=0}}class E2 extends E3{#p87=null;#p82=null;#p83=null;constructor(t){super("PilesRow_"+t,"column","between","center",!0),this.#p87=t,this.#p82=new E0(t+"_Draw"),this.M74(this.#p82)}f18(t,i,s,h,p,e){super.f18(t,i,s,h);s=Math.round(1.2*e);this.M11(t,s),this.#p83.M94(t,i-s),this.M2(),this.M26(t=>{t instanceof E0?t.M23(p,e):t.M62().style.fontSize=Math.round(.15*p)+"px"})}AddInfo(t){this.M74(t),this.#p83=t}M61(){return this.#p82}M55(){return[this.M62(),this.#p82.M62(),this.#p82.M21()]}}class E4 extends C0{#p50=0;#p3=0;#p6=0;#p10=0;#p7=!1;#p11=0;#p24=0;#p30=0;#p25=!1;#p83={win:null,score:-1,bot:-1};#p4=!1;#p21=!0;constructor(t){super("Stats",t)}M114(){this.#p50=0,this.#p3=0,this.#p6=0,this.#p10=0,this.#p7=!1,this.#p11=0,this.#p24=0,this.#p30=0,this.#p25=!1,this.#P20()}M70(){this.#p50+=1,g13("txt_trick").innerHTML=this.#p50}#P20(){g13("txt_trick").innerHTML=this.#p50,g13("txt_player_winClean").innerHTML=this.#p3,g13("txt_player_winAll").innerHTML=this.#p6,g13("txt_player_hearts").innerHTML=this.#p10,g13("txt_bot_winClean").innerHTML=this.#p11,g13("txt_bot_winAll").innerHTML=this.#p24,g13("txt_bot_hearts").innerHTML=this.#p30,g13("txt_player_score").innerHTML=this.#P28(this.#p3,this.#p10,this.#p7),g13("txt_bot_score").innerHTML=this.#P28(this.#p11,this.#p30,this.#p25)}#P28(t,i,s){t*=k5;return this.#p21?i===k18&&s?t+=k7:(t+=i*k8,s&&(t+=k11)):i===k18?t+=k7:t+=i*k8,t}M30(t){var i=t[0],s=i.M95(),s=this.#P21(s,t),h=t.filter(t=>t.M95()===k12).length,t=this.#P9(t),s=(this.#p4=s===i,this.#p4?(this.#p6+=1,this.#p21?0!==h||t||(this.#p3+=1):0===h&&(this.#p3+=1),t&&(this.#p7=!0),this.#p10+=h):(this.#p24+=1,this.#p21?0!==h||t||(this.#p11+=1):0===h&&(this.#p11+=1),t&&(this.#p25=!0),this.#p30+=h),!1);return this.#p50<k17?this.#p50+=1:(s=!0,i=this.#P28(this.#p3,this.#p10),t=this.#P28(this.#p11,this.#p30),this.#p83.win=t<=i,this.#p83.score=i,this.#p83.bot=t),this.#P20(),s}M8(){return this.#p4}M106(){return this.#p83}#P21(s,t){var h=0,p=null;return t.forEach(t=>{var i;t.M95()===s&&(i=t.M85(),h<i)&&(h=i,p=t)}),p}#P9(t){var i=!1;return t.forEach(t=>{t.M14()&&(i=!0)}),i}M31(t){this.#p21=t}}class E6 extends C0{#p59=0;#p51=null;#p12=0;#p45=0;#p52=0;#p21=!0;constructor(t,i){super("Hand",!0),this.#p59=t,this.#p12=i,this.#p51=[];for(var s,h=0;h<t;++h)s=new E1("HandRow_"+h,i,!0),this.#p51.push(s)}M55(){for(var t=[this.M62()],i=0;i<this.#p59;++i)t.push(this.#p51[i].M62());return t}f18(t,i,s,h,p){for(var e=Math.floor(i/this.#p59),n=0;n<this.#p59;++n)this.#p51[n].f18(t,e,s,h),s+=e;super.f18(t,i,s,h)}M101(t){t.M62().style.transform="rotate(0deg)",t.M95()===k12&&(this.#p45+=1),this.#p52+=1;for(var i=0;this.#p51[i].M110();)i+=1;this.#p51[i].M101(t)}M114(t){this.#p45=0;for(var i=this.#p52=0;i<this.#p59;++i)this.#p51[i].M68(t)}M67(t){for(var i,s=0;s<this.#p59;++s)if((i=this.#p51[s]).M103(t))return i.M67(t),t.M95()===k12&&--this.#p45,--this.#p52,t;return null}M81(){for(var i=[],s=0;s<this.#p59;++s)for(h=this.#p51[s];!h.M102();)i.push(h.M57());i.sort((t,i)=>{var s=t.M95(),h=i.M95();return s!==h?s-h:t.M85()-i.M85()});var h=this.#p51[0],s=0;i.forEach(t=>{(h=s===k9?this.#p51[1]:h).M101(i[s++])})}M82(){return this.#p21?this.#p52===this.#p45||this.#p52-1===this.#p45&&this.M10():this.#p52===this.#p45}M10(){for(var t,i=0;i<this.#p59;++i)if(null!==(t=this.#p51[i].M10()))return t;return null}M31(t){this.#p21=t}}class E7 extends C0{#p59=0;#p51=null;#p26=0;#p16=0;#p13=0;#p27=null;#p14=null;#p17=null;#p18=null;#p31=!0;#p53=null;#p21=!0;constructor(t,i){super("Bot",!0),this.#p59=t,this.#p18=i,this.#p51=[];for(var s,h=0;h<t;++h)(s=new E1("BotRow_"+h,k9,!1)).M63(h%2==0?"between":"around"),s.M0(!1),this.#p51.push(s)}M45(t){this.#p31=t}M55(){var i=[this.M62()];return this.#p51.forEach(t=>{i.push(t.M62())}),i}f18(i,t,s,h,p){super.f18(i,t,s,h);const e=Math.round((t-this.#p59*p)/(this.#p59-1));var n=s;this.#p51.forEach(t=>{t.f18(i,p,n,h),n+=p+e})}M32(t){this.#p17.push(t),t.M14()&&(this.#p53=t),t.M62().style.transform="rotate(0deg)"}M101(t){this.#p51[this.#p26].M101(t),t.M75(this.#p26===this.#p59-1),t.M78(this.#p26),t.M98({row:this.#p26,column:this.#p16}),t.M87()?this.M32(t):t.M62().style.transform="rotate("+Math.f14(-3,3)+"deg)",this.#p14.push(t),this.#p16+=1,this.#p16===this.#p13&&(this.#p26+=1,this.#p26<this.#p59)&&(this.#p16=0,this.#p13=k9,this.#p26%2!=0&&--this.#p13,this.#p14=[],this.#p27.push(this.#p14))}M114(i){this.#p26=0,this.#p16=0,this.#p13=k9,this.#p14=[],this.#p27=[],this.#p27.push(this.#p14),this.#p17=[],this.#p53=null,this.#p51.forEach(t=>t.M68(i))}M92(t,i){var s,h,p;return 0===t.length||t.length===k3?null:(s=t[0].M95(),p=null,p=0<(h=this.M3(s)).length?this.M4(t,s,h):this.M1(),void this.#p18(p))}M3(i){return this.#p17.filter(t=>t.M95()===i)}M4(t,i,s){var h;return i!==k12&&!this.M33(t)||this.#p31?(t=this.M71(i,t),(h=this.M71(i,s)).M85()>t.M85()?h:this.M73(s)):this.M72(i,s)}M33(t){return null!==this.M71(k12,t)}M71(s,t){var h=0,p=null;return t.forEach(t=>{var i;t.M95()===s&&(i=t.M85(),h<i)&&(h=i,p=t)}),p}M72(s,t){var h=1/0,p=null;return t.forEach(t=>{var i;t.M95()===s&&(i=t.M85())<h&&(h=i,p=t)}),p}M73(t){var s=1/0,h=null;return t.forEach(t=>{var i=t.M85();i<s&&(s=i,h=t)}),h}M1(){if(this.#p21&&this.M10())return this.#p53;var t=this.M71(k12,this.#p17);if(null!==t)return t;const i=this.M73(this.#p17).M85();t=this.#p17.filter(t=>t.M85()===i);return 1===t.length?t[0]:t[Math.f17(0,t.length-1)]}M67(t){t.M14()&&(this.#p53=null),g2(this.#p17,t);var i=t.M99();this.#p27[i.row][i.column]=null,this.#p51[i.row].M67(t),t.M62().style.transform="rotate(0deg)",0<i.row&&this.M83(i.row,i.column)}M83(t,i){var s=t-1;this.M46(s,i),t%2!=0?this.M46(s,i+1):this.M46(s,i-1)}M46(t,i){var s;i<0||i>=(s=this.#p27[t]).length||null!==(s=s[i])&&(t%2==0?this.M34(t+1,i)&&this.M34(t+1,i-1):this.M34(t+1,i)&&this.M34(t+1,i+1))&&(s.M75(!0),s.M62().style.transform="rotate(0deg)",this.M32(s))}M34(t,i){return i<0||i>=(t=this.#p27[t]).length||null===t[i]}M10(){return null!==this.#p53}M31(t){this.#p21=t}}const k1=16/11,k25=5,k26=0,k0=g8("CARD_TRANSLATE_TIME",!0),k30=6,k9=7,k3=4,k2=13,k17=13,k4=52-k2,k18=13,k7=13,k5=4,k8=-1,k11=-13,k6=2,k12=0,k13=1,k10=2,k19=3,k20=4,k21=["hearts","spades","diamonds","clubs","joker"],k14=0,k22=11,k15=12,k23=13,k27=14,k28="Red",k16="Black",k29=[{id:k12,symbol:"&hearts;",color:k28},{id:k13,symbol:"&spades;",color:k16},{id:k10,symbol:"&diams;",color:k28},{id:k19,symbol:"&clubs;",color:k16},{id:k20,symbol:"",color:""}],k24=[{value:k22,symbol:"J"},{value:k15,symbol:"Q"},{value:k23,symbol:"K"},{value:k27,symbol:"A"},{value:k14,symbol:"&#x2605;"}];window.addEventListener("load",()=>{new C2});